(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{28:function(e,t,n){},69:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(22),o=n.n(r),i=(n(28),n(13)),s=n(4),u=n(7),l=n(8),h=n(10),b=n(9),j=n(1),m=function(e){Object(h.a)(n,e);var t=Object(b.a)(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={searchQuery:""},e.onSearchInputChange=function(t){e.setState({searchQuery:t.target.value})},e.onSearchFromSubmit=function(t){var n=e.props.onFormSubmit;t.preventDefault(),n(e.state.searchQuery),e.setState({searchQuery:""})},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this.state.searchQuery;return Object(j.jsx)("div",{children:Object(j.jsx)("header",{className:"Searchbar",children:Object(j.jsxs)("form",{className:"SearchForm",onSubmit:this.onSearchFromSubmit,children:[Object(j.jsx)("button",{type:"submit",className:"SearchForm-button",children:Object(j.jsx)("span",{className:"SearchForm-button-label",children:"Search"})}),Object(j.jsx)("input",{className:"SearchForm-input",type:"text",autoComplete:"off",autoFocus:!0,value:e,onChange:this.onSearchInputChange,placeholder:"Search images and photos"})]})})})}}]),n}(a.Component),d=function(e){var t=e.src,n=e.largeImg;return Object(j.jsx)("li",{className:"ImageGalleryItem",children:Object(j.jsx)("img",{src:t,alt:"",className:"ImageGalleryItem-image","data-img":n,height:"240",width:"320"})})},g=function(e){var t=e.pictures,n=e.onImgClick;return Object(j.jsx)("ul",{className:"ImageGallery",onClick:n,children:t.map((function(e){var t=e.id,n=e.webformatURL,a=e.largeImageURL;return Object(j.jsx)(d,{src:n,largeImg:a},t)}))})},p=n(12),f=n.n(p);f.a.defaults.baseURL="https://pixabay.com/api/";var O={getImages:function(e){var t=e.query,n=e.page,a=e.perPage;return f.a.get("/?q=".concat(t,"&key=20823750-0b59b5ef6ebc149bfc71c9c45&page=").concat(n,"&image_type=photo&orientation=horizontal&per_page=").concat(a)).then((function(e){return e.data.hits}))}},v=function(e){var t=e.onBtnClick,n=e.text;return Object(j.jsx)("button",{type:"button",onClick:t,children:n})},y=function(e){Object(h.a)(n,e);var t=Object(b.a)(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).onKeydownClick=function(t){var n=e.props.onCloseModal;"Escape"===t.code&&n()},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.onKeydownClick)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.onKeydownClick)}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.onCloseModal;return Object(j.jsx)("div",{className:"Overlay",onClick:n,children:Object(j.jsx)("div",{className:"Modal",children:t})})}}]),n}(a.Component),x=n(23),S=n.n(x);n(68);function C(){var e=Object(a.useState)(""),t=Object(s.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(1),o=Object(s.a)(r,2),u=o[0],l=o[1],h=Object(a.useState)(12),b=Object(s.a)(h,2),d=b[0],p=(b[1],Object(a.useState)([])),f=Object(s.a)(p,2),x=f[0],C=f[1],w=Object(a.useState)(""),k=Object(s.a)(w,2),I=k[0],F=k[1],N=Object(a.useState)(!1),L=Object(s.a)(N,2),M=L[0],B=L[1],E=Object(a.useState)(!1),Q=Object(s.a)(E,2),D=Q[0],G=Q[1];Object(a.useEffect)((function(){U().then((function(){R(),x.length>10&&window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})}))}),[n,u]);var P=function(){G((function(e){return!e}))},R=function(){B((function(e){return!e}))},U=function(){R();var e={query:n,page:u,perPage:d};return O.getImages(e).then((function(e){C((function(t){return[].concat(Object(i.a)(t),Object(i.a)(e))}))}))};return Object(j.jsxs)("div",{className:"App",children:[M&&Object(j.jsx)(y,{children:Object(j.jsx)(S.a,{type:"Rings",color:"#00BFFF",height:700,width:700})}),Object(j.jsx)(m,{value:n,onFormSubmit:function(e){c(e),l(1),C([])}}),Object(j.jsx)(g,{pictures:x,onImgClick:function(e){"IMG"===e.target.nodeName&&(F(e.target.dataset.img),P())}}),x.length>0&&Object(j.jsx)(v,{onBtnClick:function(){l((function(e){return e+1}))},text:M?"\u0417\u0430\u0433\u0440\u0443\u0436\u0430\u0435\u043c":"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0435\u0449\u0435"}),D&&Object(j.jsx)(y,{onCloseModal:P,children:Object(j.jsx)("img",{src:I,alt:"Dont Worry Be Happy"})})]})}var w=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,70)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,o=t.getTTFB;n(e),a(e),c(e),r(e),o(e)}))};o.a.render(Object(j.jsx)(c.a.StrictMode,{children:Object(j.jsx)(C,{})}),document.getElementById("root")),w()}},[[69,1,2]]]);
//# sourceMappingURL=main.0496bab9.chunk.js.map