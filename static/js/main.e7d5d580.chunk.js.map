{"version":3,"sources":["components/Searchbar/Searchbar.js","components/ImageGallery/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","service/ImageApi.js","components/Button/Button.js","components/Modal/Modal.js","App.js","reportWebVitals.js","index.js"],"names":["Searchbar","state","searchQuery","onSearchInputChange","e","setState","target","value","onSearchFromSubmit","onFormSubmit","props","preventDefault","this","className","onSubmit","type","autoComplete","autoFocus","onChange","placeholder","Component","ImageGalleryItem","src","largeImg","alt","data-img","height","width","ImageGallery","pictures","onImgClick","onClick","map","id","webformatURL","largeImageURL","axios","defaults","baseURL","serviceApi","getImages","query","page","perPage","get","then","r","data","hits","Button","onBtnClick","text","Modal","onKeydownClick","onCloseModal","code","window","addEventListener","removeEventListener","children","App","currentPictures","loader","openModal","OnLoadMore","prev","nodeName","dataset","img","toggleModal","loaderToggle","onImgOverviewClose","contains","fetchPictures","settings","ServiseApi","prevProps","prevState","length","scrollTo","top","document","documentElement","scrollHeight","behavior","color","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.e7d5d580.chunk.js","sourcesContent":["import React, { Component } from \"react\"\r\nimport PropTypes from \"prop-types\"\r\n\r\nexport default class Searchbar extends Component {\r\n  static propTypes = {\r\n    value: PropTypes.string.isRequired,\r\n    onFormSubmit: PropTypes.func.isRequired,\r\n  }\r\n\r\n  state = {\r\n    searchQuery: \"\",\r\n  }\r\n\r\n  onSearchInputChange = (e) => {\r\n    this.setState({\r\n      searchQuery: e.target.value,\r\n    })\r\n  }\r\n\r\n  onSearchFromSubmit = (e) => {\r\n    const { onFormSubmit } = this.props\r\n    e.preventDefault()\r\n\r\n    onFormSubmit(this.state.searchQuery)\r\n    this.setState({ searchQuery: \"\" })\r\n  }\r\n\r\n  render() {\r\n    const { searchQuery } = this.state\r\n    return (\r\n      <div>\r\n        <header className=\"Searchbar\">\r\n          <form className=\"SearchForm\" onSubmit={this.onSearchFromSubmit}>\r\n            <button type=\"submit\" className=\"SearchForm-button\">\r\n              <span className=\"SearchForm-button-label\">Search</span>\r\n            </button>\r\n\r\n            <input\r\n              className=\"SearchForm-input\"\r\n              type=\"text\"\r\n              autoComplete=\"off\"\r\n              autoFocus\r\n              value={searchQuery}\r\n              onChange={this.onSearchInputChange}\r\n              placeholder=\"Search images and photos\"\r\n            />\r\n          </form>\r\n        </header>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import React from \"react\"\r\n\r\nconst ImageGalleryItem = ({ src, largeImg }) => (\r\n  <li className=\"ImageGalleryItem\">\r\n    <img src={src} alt=\"\" className=\"ImageGalleryItem-image\" data-img={largeImg} height=\"240\" width=\"320\" />\r\n  </li>\r\n)\r\n\r\nexport default ImageGalleryItem\r\n","import React from \"react\"\r\nimport ImageGalleryItem from \"./ImageGalleryItem/ImageGalleryItem\"\r\nimport PropTypes from \"prop-types\"\r\n\r\nconst ImageGallery = ({ pictures, onImgClick }) => (\r\n  <ul className=\"ImageGallery\" onClick={onImgClick}>\r\n    {pictures.map(({ id, webformatURL, largeImageURL }) => (\r\n      <ImageGalleryItem key={id} src={webformatURL} largeImg={largeImageURL} />\r\n    ))}\r\n  </ul>\r\n)\r\n\r\nImageGallery.propTypes = {\r\n  pictures: PropTypes.arrayOf(PropTypes.object),\r\n  onImgClick: PropTypes.func.isRequired,\r\n}\r\n\r\nexport default ImageGallery\r\n","import axios from \"axios\"\r\n\r\naxios.defaults.baseURL = \"https://pixabay.com/api/\"\r\n\r\nconst serviceApi = {\r\n  getImages({ query, page, perPage }) {\r\n    return axios\r\n      .get(\r\n        `/?q=${query}&key=20823750-0b59b5ef6ebc149bfc71c9c45&page=${page}&image_type=photo&orientation=horizontal&per_page=${perPage}`\r\n      )\r\n      .then((r) => r.data.hits)\r\n  },\r\n}\r\nexport default serviceApi\r\n","import React from \"react\"\r\nimport PropTypes from \"prop-types\"\r\n\r\nconst Button = ({ onBtnClick, text }) => (\r\n  <button type=\"button\" onClick={onBtnClick}>\r\n    {text}\r\n  </button>\r\n)\r\n\r\nButton.propTypes = {\r\n  onBtnClick: PropTypes.func.isRequired,\r\n  text: PropTypes.string.isRequired,\r\n}\r\n\r\nexport default Button\r\n","import React, { Component } from \"react\"\r\nimport PropTypes from \"prop-types\"\r\n\r\nexport default class Modal extends Component {\r\n  static propTypes = {\r\n    onCloseModal: PropTypes.func,\r\n  }\r\n\r\n  componentDidMount() {\r\n    window.addEventListener(\"keydown\", this.onKeydownClick)\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener(\"keydown\", this.onKeydownClick)\r\n  }\r\n\r\n  onKeydownClick = (e) => {\r\n    const { onCloseModal } = this.props\r\n    if (e.code === \"Escape\") {\r\n      onCloseModal()\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { children, onCloseModal } = this.props\r\n    return (\r\n      <div className=\"Overlay\" onClick={onCloseModal}>\r\n        <div className=\"Modal\">{children}</div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import Searchbar from \"./components/Searchbar/Searchbar\"\n\nimport React, { Component } from \"react\"\nimport ImageGallery from \"./components/ImageGallery\"\nimport ServiseApi from \"./service/ImageApi\"\nimport Button from \"./components/Button\"\nimport Modal from \"./components/Modal\"\nimport Loader from \"react-loader-spinner\"\n\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\"\nexport default class App extends Component {\n  state = {\n    query: \"\",\n    page: 1,\n    perPage: 12,\n    pictures: [],\n    currentPictures: \"\",\n    loader: false,\n    openModal: false,\n  }\n  componentDidUpdate(prevProps, prevState) {\n    const { query, page, pictures } = this.state\n    if (prevState.query !== query || prevState.page !== page) {\n      this.fetchPictures().then(() => {\n        this.loaderToggle()\n        if (pictures.length > 10) {\n          window.scrollTo({\n            top: document.documentElement.scrollHeight,\n            behavior: \"smooth\",\n          })\n        }\n      })\n    }\n  }\n\n  OnLoadMore = () => {\n    this.setState((prev) => ({\n      page: prev.page + 1,\n    }))\n  }\n\n  onImgClick = (e) => {\n    if (e.target.nodeName !== \"IMG\") {\n      return\n    }\n    this.setState({\n      currentPictures: e.target.dataset.img,\n    })\n    this.toggleModal()\n  }\n\n  loaderToggle = () => {\n    this.setState((prev) => ({\n      loader: !prev.loader,\n    }))\n  }\n\n  onImgOverviewClose = (e) => {\n    if (e.target.className.contains(\"Overlay\")) {\n      this.toggleModal()\n    }\n  }\n\n  fetchPictures = () => {\n    const { query, page, perPage } = this.state\n\n    this.loaderToggle()\n    const settings = {\n      query: query,\n      page: page,\n      perPage: perPage,\n    }\n    return ServiseApi.getImages(settings).then((hits) => {\n      this.setState((prev) => ({\n        pictures: [...prev.pictures, ...hits],\n      }))\n    })\n  }\n\n  onSubmit = (searchQuery) => {\n    this.setState({\n      query: searchQuery,\n      page: 1,\n      pictures: [],\n    })\n  }\n  toggleModal = () => {\n    this.setState((prev) => ({\n      openModal: !prev.openModal,\n    }))\n  }\n  render() {\n    const { pictures, query, loader, openModal, currentPictures } = this.state\n    return (\n      <div className=\"App\">\n        {loader && (\n          <Modal>\n            <Loader type=\"Rings\" color=\"#00BFFF\" height={700} width={700} />\n          </Modal>\n        )}\n        <Searchbar value={query} onFormSubmit={this.onSubmit} />\n        <ImageGallery pictures={pictures} onImgClick={this.onImgClick} />\n        {pictures.length > 0 && <Button onBtnClick={this.OnLoadMore} text={loader ? \"Загружаем\" : \"Загрузить еще\"} />}\n\n        {openModal && (\n          <Modal onCloseModal={this.toggleModal}>\n            <img src={currentPictures} alt=\"Dont Worry Be Happy\" />\n          </Modal>\n        )}\n      </div>\n    )\n  }\n}\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}