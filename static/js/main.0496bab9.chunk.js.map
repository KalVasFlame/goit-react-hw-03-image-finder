{"version":3,"sources":["components/Searchbar/Searchbar.js","components/ImageGallery/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","service/ImageApi.js","components/Button/Button.js","components/Modal/Modal.js","App.js","reportWebVitals.js","index.js"],"names":["Searchbar","state","searchQuery","onSearchInputChange","e","setState","target","value","onSearchFromSubmit","onFormSubmit","props","preventDefault","this","className","onSubmit","type","autoComplete","autoFocus","onChange","placeholder","Component","ImageGalleryItem","src","largeImg","alt","data-img","height","width","ImageGallery","pictures","onImgClick","onClick","map","id","webformatURL","largeImageURL","axios","defaults","baseURL","serviceApi","getImages","query","page","perPage","get","then","r","data","hits","Button","onBtnClick","text","Modal","onKeydownClick","onCloseModal","code","window","addEventListener","removeEventListener","children","App","useState","setQuery","setPage","setPictures","currentPictures","setCurrentPictures","loader","setLoader","openModal","setOpenModal","useEffect","fetchPictures","loaderToggle","length","scrollTo","top","document","documentElement","scrollHeight","behavior","toggleModal","prev","settings","ServiseApi","color","nodeName","dataset","img","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.0496bab9.chunk.js","sourcesContent":["import React, { Component } from \"react\"\r\nimport PropTypes from \"prop-types\"\r\n\r\nexport default class Searchbar extends Component {\r\n  static propTypes = {\r\n    value: PropTypes.string.isRequired,\r\n    onFormSubmit: PropTypes.func.isRequired,\r\n  }\r\n\r\n  state = {\r\n    searchQuery: \"\",\r\n  }\r\n\r\n  onSearchInputChange = (e) => {\r\n    this.setState({\r\n      searchQuery: e.target.value,\r\n    })\r\n  }\r\n\r\n  onSearchFromSubmit = (e) => {\r\n    const { onFormSubmit } = this.props\r\n    e.preventDefault()\r\n\r\n    onFormSubmit(this.state.searchQuery)\r\n    this.setState({ searchQuery: \"\" })\r\n  }\r\n\r\n  render() {\r\n    const { searchQuery } = this.state\r\n    return (\r\n      <div>\r\n        <header className=\"Searchbar\">\r\n          <form className=\"SearchForm\" onSubmit={this.onSearchFromSubmit}>\r\n            <button type=\"submit\" className=\"SearchForm-button\">\r\n              <span className=\"SearchForm-button-label\">Search</span>\r\n            </button>\r\n\r\n            <input\r\n              className=\"SearchForm-input\"\r\n              type=\"text\"\r\n              autoComplete=\"off\"\r\n              autoFocus\r\n              value={searchQuery}\r\n              onChange={this.onSearchInputChange}\r\n              placeholder=\"Search images and photos\"\r\n            />\r\n          </form>\r\n        </header>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import React from \"react\"\r\n\r\nconst ImageGalleryItem = ({ src, largeImg }) => (\r\n  <li className=\"ImageGalleryItem\">\r\n    <img src={src} alt=\"\" className=\"ImageGalleryItem-image\" data-img={largeImg} height=\"240\" width=\"320\" />\r\n  </li>\r\n)\r\n\r\nexport default ImageGalleryItem\r\n","import React from \"react\"\r\nimport ImageGalleryItem from \"./ImageGalleryItem/ImageGalleryItem\"\r\nimport PropTypes from \"prop-types\"\r\n\r\nconst ImageGallery = ({ pictures, onImgClick }) => (\r\n  <ul className=\"ImageGallery\" onClick={onImgClick}>\r\n    {pictures.map(({ id, webformatURL, largeImageURL }) => (\r\n      <ImageGalleryItem key={id} src={webformatURL} largeImg={largeImageURL} />\r\n    ))}\r\n  </ul>\r\n)\r\n\r\nImageGallery.propTypes = {\r\n  pictures: PropTypes.arrayOf(PropTypes.object),\r\n  onImgClick: PropTypes.func.isRequired,\r\n}\r\n\r\nexport default ImageGallery\r\n","import axios from \"axios\"\r\n\r\naxios.defaults.baseURL = \"https://pixabay.com/api/\"\r\n\r\nconst serviceApi = {\r\n  getImages({ query, page, perPage }) {\r\n    return axios\r\n      .get(\r\n        `/?q=${query}&key=20823750-0b59b5ef6ebc149bfc71c9c45&page=${page}&image_type=photo&orientation=horizontal&per_page=${perPage}`\r\n      )\r\n      .then((r) => r.data.hits)\r\n  },\r\n}\r\nexport default serviceApi\r\n","import React from \"react\"\r\nimport PropTypes from \"prop-types\"\r\n\r\nconst Button = ({ onBtnClick, text }) => (\r\n  <button type=\"button\" onClick={onBtnClick}>\r\n    {text}\r\n  </button>\r\n)\r\n\r\nButton.propTypes = {\r\n  onBtnClick: PropTypes.func.isRequired,\r\n  text: PropTypes.string.isRequired,\r\n}\r\n\r\nexport default Button\r\n","import React, { Component } from \"react\"\r\nimport PropTypes from \"prop-types\"\r\n\r\nexport default class Modal extends Component {\r\n  static propTypes = {\r\n    onCloseModal: PropTypes.func,\r\n  }\r\n\r\n  componentDidMount() {\r\n    window.addEventListener(\"keydown\", this.onKeydownClick)\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener(\"keydown\", this.onKeydownClick)\r\n  }\r\n\r\n  onKeydownClick = (e) => {\r\n    const { onCloseModal } = this.props\r\n    if (e.code === \"Escape\") {\r\n      onCloseModal()\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { children, onCloseModal } = this.props\r\n    return (\r\n      <div className=\"Overlay\" onClick={onCloseModal}>\r\n        <div className=\"Modal\">{children}</div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import { useState, useEffect } from \"react\"\n\nimport Searchbar from \"./components/Searchbar/Searchbar\"\nimport ImageGallery from \"./components/ImageGallery\"\nimport ServiseApi from \"./service/ImageApi\"\nimport Button from \"./components/Button\"\nimport Modal from \"./components/Modal\"\nimport Loader from \"react-loader-spinner\"\n\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\"\n\nexport default function App() {\n  const [query, setQuery] = useState(\"\")\n  const [page, setPage] = useState(1)\n  const [perPage, setPerPage] = useState(12)\n  const [pictures, setPictures] = useState([])\n  const [currentPictures, setCurrentPictures] = useState(\"\")\n  const [loader, setLoader] = useState(false)\n  const [openModal, setOpenModal] = useState(false)\n\n  useEffect(() => {\n    fetchPictures().then(() => {\n      loaderToggle()\n      if (pictures.length > 10) {\n        window.scrollTo({\n          top: document.documentElement.scrollHeight,\n          behavior: \"smooth\",\n        })\n      }\n    })\n  }, [query, page])\n\n  const toggleModal = () => {\n    setOpenModal((prev) => !prev)\n  }\n\n  const loaderToggle = () => {\n    setLoader((prev) => !prev)\n  }\n\n  const OnLoadMore = () => {\n    setPage((prev) => prev + 1)\n  }\n  const onImgClick = (e) => {\n    if (e.target.nodeName !== \"IMG\") {\n      return\n    }\n    setCurrentPictures(e.target.dataset.img)\n    toggleModal()\n  }\n\n  const onSubmit = (searchQuery) => {\n    setQuery(searchQuery)\n    setPage(1)\n    setPictures([])\n  }\n\n  const fetchPictures = () => {\n    loaderToggle()\n    const settings = { query, page, perPage }\n    return ServiseApi.getImages(settings).then((hits) => {\n      setPictures((prev) => [...prev, ...hits])\n    })\n  }\n\n  return (\n    <div className=\"App\">\n      {loader && (\n        <Modal>\n          <Loader type=\"Rings\" color=\"#00BFFF\" height={700} width={700} />\n        </Modal>\n      )}\n      <Searchbar value={query} onFormSubmit={onSubmit} />\n      <ImageGallery pictures={pictures} onImgClick={onImgClick} />\n      {pictures.length > 0 && <Button onBtnClick={OnLoadMore} text={loader ? \"Загружаем\" : \"Загрузить еще\"} />}\n\n      {openModal && (\n        <Modal onCloseModal={toggleModal}>\n          <img src={currentPictures} alt=\"Dont Worry Be Happy\" />\n        </Modal>\n      )}\n    </div>\n  )\n}\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}